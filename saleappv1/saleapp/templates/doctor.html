{% extends 'layout/base.html' %}

{% block content %}

{% if current_user.is_authenticated and current_user.user_role.__eq__("User.Role.Doctor") %}
<head>
    <link href="{{ url_for('static', filename='css/doctor.css') }}" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" rel="stylesheet"/>
</head>

<div class="content">
    <div class="doctor row">
        <div class="doctor-left col-md-4 col-sm-12">
            <div class="mb-3 mt-3">
                <div>
                    <h4>Tra cứu bệnh nhân</h4>
                </div>
                <div class="m-user mb-3 mt-3">
                    <label for="u-id" class="lb-id form-label">Mã bệnh nhân:</label>
                    <input type="text" class="form-control" id="u-id" placeholder="Nhập mã bệnh nhân" name="u-id">
                </div>
                <button class="bt-add btn btn-primary" type="submit">Thêm</button>
            </div>
            <hr>
            <div class="mb-3 mt-3">
                <div class="mb-3 mt-3">
                    <div>
                        <h4>Tra cứu thuốc</h4>
                    </div>
                    <div class="m-medicine mb-3 mt-3">
                        <label class="form-label">Nhập thuốc:</label>
                        <input class="form-control" list="medicines" name="medicine" id="medicine">
                        <datalist id="medicines">
                            {% for d in diseases %}
                            <option value="{{ d.tenBenh }}">
                                {% endfor %}
                        </datalist>
                    </div>
                    <button class="bt-new btn btn-secondary" type="submit">Thêm</button>
                </div>
            </div>
        </div>

        <div class="doctor-right col-md-8 col-sm-12">
            <div>
                <h2>PHIẾU KHÁM BỆNH</h2>
                <hr>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6 bg-info">
                            <div class="m-name">
                                <label for="symptom" class="form-label">Họ tên:</label>
                                <div class="u-name">Lưu Quang Phương</div>
                            </div>
                            <div class="mb-3 mt-3">
                                <div class="m-symptom">
                                    <label for="symptom" class="form-label">Triệu chứng:</label>
                                    <input type="text" class="form-control" id="symptom" placeholder="Nhập triệu chứng"
                                           name="symptom">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 bg-light">
                            <div class="m-date">
                                <label for="date" class="form-label">Ngày khám:</label>
                                <div class="form-floating mb-2 mt-2">
                                    <input type="date" class="form-control" name="date" required id="date">
                                    <label for="date">Chọn ngày khám</label>
                                </div>
                            </div>
                            <div class="mb-3 mt-3">
                                <div class="m-diagnostic">
                                    <label class="form-label">Chuẩn đoán:</label>
                                    <input class="form-control" list="diseases" name="disease" id="disease">
                                    <datalist id="diseases">
                                        {% for d in diseases %}
                                        <option value="{{ d.tenBenh }}">
                                            {% endfor %}
                                    </datalist>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="medicine-form">
                <table class="table">
                    <tr>
                        <th>Id</th>
                        <th>Thuốc</th>
                        <th>Đơn vị</th>
                        <th>Số lượng</th>
                        <th>Cách dùng</th>
                    </tr>
                    {% for us in users %}
                    <tr>
                        <td>{{ us.id }}</td>
                        <td>{{ us.tenUser }}</td>
                        {% if us.gioiTinh == True %}
                        <td>Nam</td>
                        {% else %}
                        <td>Nữ</td>
                        {% endif %}
                        <td>
                            <input type="number" min="0" value="{{ c.quantity }}"
                                   class="form-control"/>
                        </td>
                        <td>{{ us.diaChi }}</td>
                        <td>
                            <input type="button" value="Xóa" class="btn btn-danger"/>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
            <div class="bt-save form-floating mt-3 mb-3 text-center">
                <input type="submit" value="Lưu" class="btn btn-warning"/>
            </div>
        </div>
    </div>
</div>

<div class="noti-click">
    <div class="noti-info alert alert-warning">
        Tạo phiếu <strong>thành công &#10004</strong>
    </div>
</div>

{% else %}
<h1>GOOD</h1>
{% endif %}

{% endblock %}